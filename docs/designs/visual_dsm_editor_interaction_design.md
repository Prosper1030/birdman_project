# yEd 使用者行為 & 介面拆解報告

本報告分析 yEd 圖形編輯器在進行依賴關係編輯時的使用流程與介面構成，並針對以 PyQt5 實作互動式編輯器提出可行的元件對映、可調參數以及易用性改進建議。所有描述以使用者操作截圖為證據來源，圖編號與截圖來源標註於各處

![螢幕擷取畫面 2025-08-06 105204.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105204.png)

![螢幕擷取畫面 2025-08-06 105300.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105300.png)

。

## 第1章：User Journey（逐步事件表）

下表整理了在 yEd 中使用者建立節點與連線的典型流程。事件可視為一連串的滑鼠/鍵盤操作，每個步驟均對應畫面中的視覺變化。



步驟

使用者操作與系統反應

截圖參考


**1\. 單擊選取節點**

使用者左鍵單擊節點，節點周圍出現 8 個黑色調整把手與虛線框，表示節點已被選取，可進行縮放或移動

![螢幕擷取畫面 2025-08-06 105204 1.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105204%201.png)

。

圖1


**2\. 拖曳移動節點**

在選取狀態下，拖曳節點本體或把手可移動位置。拖動時畫面浮現虛線的對齊輔助線，幫助使用者與其他元素對齊

![螢幕擷取畫面 2025-08-06 105300 1.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105300%201.png)

。

圖2


**3\. 長壓拖曳產生連線預覽**

使用者在節點出口長按滑鼠左鍵並拖曳指向另一處，此時產生一條實線箭頭作為「連線預覽」。拖動過程中仍顯示對齊輔助線

![螢幕擷取畫面 2025-08-06 105332.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105332.png)

。

圖3


**4\. 放開滑鼠完成連線**

拖曳箭頭到目標節點並放開滑鼠，箭頭會自動吸附至目標節點的邊緣並建立正式連線。同一來源可連至多個目標

![螢幕擷取畫面 2025-08-06 105353.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105353.png)

。

圖4


**5\. 多選與對齊**

按住 `Shift` 連續點選可多選多個節點；也可在空白處按住左鍵拖曳形成橡皮筋框選區域來多選。選取多個節點後可使用對齊工具或鍵盤命令使其水平／垂直對齊（圖中虛線即為輔助線）

![螢幕擷取畫面 2025-08-06 105300 2.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105300%202.png)

。

圖2


**6\. Undo/Redo 操作**

利用鍵盤 `Ctrl+Z` 撤銷上一個操作（例如移動或建立連線），`Ctrl+Y` 重新執行撤銷動作。系統維護完整的動作堆疊。

—



透過上述流程，使用者可以直覺地建立、移動與連接節點。長壓拖曳即顯示預覽箭頭是 yEd 的一大特色，但使用者反映預覽與完成後的邊線需保持一致的實線風格，避免混淆。

## 第2章：UI 元件對映（yEd → PyQt）

將 yEd 中的介面元素轉換為 PyQt5 中的元件，可借助 `QtWidgets` 模組的 `QGraphicsView`/`QGraphicsScene` 架構來繪製節點、邊和連線。在以下表格中，左欄為 yEd 的介面元素，右欄為對應的 PyQt 實作建議。



yEd 介面元素

PyQt5 實作建議

說明


**工作畫布 (GraphCanvas)**

`QGraphicsView` 搭配 `QGraphicsScene`

場景負責存放所有圖形物件；View 負責顯示並支援縮放、平移。可覆寫滑鼠事件處理拖動、框選等交互。


**矩形節點／標籤**

繼承 `QGraphicsRectItem` 或自訂 `QGraphicsItem`

節點顯示文字及填色，可在 `paint()` 中繪製背景顏色與邊框；設定 `flags` 使其可移動、可選取；提供 8 個子元件作為調整把手

![螢幕擷取畫面 2025-08-06 105204 2.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105204%202.png)

。


**選取把手**

多個 `QGraphicsRectItem` 子元件

在節點選取時顯示，把手尺寸可由樣式參數控制。拖曳把手可觸發節點縮放。


**橡皮筋多選框**

`QRubberBand` 或自繪半透明矩形

在畫布上框選多個節點。完成框選後遍歷場景中項目判斷是否與框選區相交。


**對齊輔助線**

臨時添加的 `QGraphicsLineItem` 或 `QGraphicsPathItem`

當移動或繪製時，計算與其他節點的 X／Y 對齊位置，並動態繪製虛線輔助線

![螢幕擷取畫面 2025-08-06 105300 3.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105300%203.png)

。繪製完成後立即移除。


**連線（邊）與箭頭**

`QGraphicsPathItem`

邊由貝茲曲線或折線構成，箭頭使用自訂三角形或線段繪製在邊的末端

![螢幕擷取畫面 2025-08-06 105332 1.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105332%201.png)

。在拖曳過程中顯示預覽路徑，放開後轉為正式邊。


**圖例／屬性面板**

`QDockWidget` + 表單小部件

用於編輯節點文字、顏色、箭頭類型等屬性。


**工具列**

`QToolBar`、`QAction`

放置常用操作（刪除、撤銷、重做、對齊等）。


**Undo/Redo 機制**

自訂命令模式或使用 `QUndoStack`

每個動作（新增節點、移動、連線等）封裝為命令，支援撤銷與重做。



## 第3章：可配參數表（樣式、閾值）

為了提供良好的使用體驗，許多視覺效果與操作閾值需要設計為可配置。本章列出建議暴露給使用者或開發者的調整項目。



參數

說明/用途

建議範圍或預設值


**節點背景色/邊框色**

控制節點的外觀，使不同類型的節點易於區分。

任意 `QColor`；預設黃色（如示例

![螢幕擷取畫面 2025-08-06 105204 3.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105204%203.png)

）。


**節點邊框寬度**

調整節點邊線粗細，增強視覺層次。

0\.5–3 px，預設 1 px。


**選取把手大小**

影響把手易點擊性及畫面干擾程度。

4–10 px，預設 6 px。


**連線線型**

實線或虛線；可選直線、折線或曲線。預覽連線與最終連線應保持一致，避免預覽是虛線而正式為實線的視覺落差

![螢幕擷取畫面 2025-08-06 105332 2.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105332%202.png)

。

預設實線折線。


**箭頭樣式**

控制箭頭的大小及形狀（實心三角、空心三角等）。

大小 4–8 px，預設實心三角。


**格線與吸附距離**

背景格線大小以及拖動節點對齊時的吸附閾值。

格線 20–40 px；吸附距離 5–10 px。


**長按延遲**

判定拖曳出連線預覽前的長按延遲時間。過短容易誤觸；過長增加等待時間。

150–400 毫秒，預設 250 毫秒。


**多選框透明度**

橡皮筋多選區域的透明度，避免遮蔽底下內容。

0\.1–0.4，預設 0.2。


**Undo 堆疊大小**

儲存可撤銷操作的數量，避免記憶體溢出。

50–200 步驟，預設 100。


**字型與字型大小**

節點文字顯示的字型，確保不同語言顯示完整。

任意系統字型；預設中文支援的無襯線字體，字號 9–12 pt。



這些參數可以透過設定檔或屬性面板即時調整，讓使用者依專案需求自訂樣式。

## 第4章：易用性改進建議（依工期排序）

針對目前 yEd 互動流程與使用者痛點提出改進建議，以下依預估工期從短至長排序，建議優先採納較容易實作的項目：

1. **預覽與正式連線一致化**（短期） – 目前連線預覽使用虛線，而正式邊為實線，易造成使用者誤判。建議在拖曳時即用最終的線型與箭頭風格呈現，僅利用顏色或透明度區分預覽與完成狀態

   ![螢幕擷取畫面 2025-08-06 105332 3.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105332%203.png)

   。

2. **多選與對齊工具列按鈕**（短期） – 將多選與對齊操作提供單獨的工具列按鈕與快捷鍵提示，並在多選時於狀態列顯示已選項目數；可利用 `QRubberBand` 加強框選感受

   ![螢幕擷取畫面 2025-08-06 105300 4.png](./yEd%20使用者行為%20&%20介面拆解報告-assets/螢幕擷取畫面%202025-08-06%20105300%204.png)

   。

3. **節點吸附與對齊輔助改善**（短期） – 對齊輔助線應與格線同步顯示，並可調整吸附閾值；增設快捷鍵切換對齊模式（以中心對齊或邊緣對齊）。

4. **可自訂外觀佈景主題**（中期） – 提供不同的顏色主題與節點樣式配置檔，使使用者可快速套用企業色系或簡報風格。此項目需要整理各類型節點、連線的風格定義並建立載入機制。

5. **Undo/Redo 界面可視化**（中期） – 除了快捷鍵，建議加入可展開的「歷史記錄」側邊欄，顯示最近 N 筆操作，使用者可點擊回復到指定步驟；可利用 `QUndoView` 實現。

6. **鍵盤導航與尋找功能**（中期） – 提供鍵盤方向鍵移動選取節點，支援 `Ctrl+F` 搜尋節點名稱並自動定位；對於大型圖表尤其有幫助。

7. **群組與分層管理**（長期） – 支援將多個節點群組成一個容器，縮放群組時內部元素保持相對位置；並提供分層（Layer）管理器切換顯示/鎖定層。此功能需要較大的資料結構調整。

8. **自動佈局演算法整合**（長期） – 讓使用者一鍵自動排列節點與邊以減少交錯，支援樹狀、網絡等多種佈局。雖然 PyQt 本身不提供演算法，但可結合 `networkx` 等第三方庫計算節點座標並套用於場景。此屬較為複雜的功能。

上述建議旨在提升互動式依賴關係編輯器的效率與易用性，尤其針對長按拖曳連線與多選對齊這類核心流程進行優化。藉由 PyQt5 的靈活性，開發者可以循序漸進地納入這些功能，使產品的體驗更貼近 yEd 並更符合使用者期待。


